{
  "modifiers": [
    {
      "modifier": ["Caps"],
      "interceptAll": true,
      "rules": [
        {
          "key": "Caps",
          "rules": [
            {
              "conditions": { "S": "isDown" },
              "fire": [null, "Shift:up"]
            },
            {
              "conditions": { "Alt": "isDown" },
              "fire": ["keyUpAlt", "keyDownAltAsCtrl"]
            }
          ]
        },
        {
          "key": ["Alt", "Ctrl", "Win"],
          "fire": [null, null]
        },
        {
          "key": ["S"],
          "fire": ["Shift:down", "Shift:up"]
        },
        {
          "key": ["H", "J", "L", "K"],
          "rules": [
            {
              "conditions": { "Win": "isDown" },
              "fire": ["Ctrl:down vimArrowKey Ctrl:up", null]
            },
            {
              "key": ["H", "L"],
              "rules": [
                {
                  "conditions": { "Alt": "isDown" },
                  "fire": ["vimHomeEndKey", null]
                },
                {
                  "fire": ["vimArrowKey", null]
                }
              ]
            },
            {
              "conditions": { "Alt": "isDown" },
              "fire": ["vimHomeEndKey", null]
            },
            {
              "fire": ["vimArrowKey", null]
            }
          ]
        },
        {
          "fire": ["currentKey:down", "currentKey:up"]
        }
      ]
    },
    {
      "modifier": ["Ctrl", "Tab"],
      "fire": ["keyDownCtrlAsCtrl Tab", null]
    },
    {
      "modifier": ["Ctrl"],
      "fire": ["keyDownCtrlAsAlt", "keyUpCtrl"]
    },
    {
      "modifier": ["Alt", "Tab"],
      "fire": ["keyDownAltAsAlt Tab", null]
    },
    {
      "modifier": ["Alt"],
      "fire": ["keyDownAltAsCtrl", "keyUpAlt"]
    },
    {
      "modifier": ["Esc"],
      "conditions": { "isAltAsAlt": true },
      "fire": ["Esc keyDownAltAsCtrl", null]
    }
  ],
  "tests": [
    [
      "Alt:down Tab Alt:up",
      "Ctrl:down Ctrl:up Alt:down Tab:down Tab:up Alt:up"
    ],
    ["Ctrl", "Alt:down Alt:up"],
    ["Ctrl:down C Ctrl:up", "Alt:down C:down C:up Alt:up"],

    // Key - DownUp
    ["A", "A"],

    // Key - Down
    ["H:down H:down H:down", "H:down H:down H:down"],

    // Key - Down then Up
    ["H:down H:down H:up", "H:down H:down H:up"],

    // Key - 2 Keys In Order
    ["H:down J H:up", "H:down J:down J:up H:up"],

    // Key - 2 Keys In No Order
    ["H:down J:down H:up J:up", "H:down J:down H:up J:up"],

    // Key - 3 Keys In Order
    ["H:down J:down K J:up H:up", "H:down J:down K:down K:up J:up H:up"],

    // Key - 3 Keys No Order
    ["H:down J:down K H:up J:up", "H:down J:down K:down K:up H:up J:up"],

    // VIM MODE
    ["Caps", ""],
    ["Caps:down A:down A:up Caps:up", "A"],
    ["Caps:down H Caps:up", "Left"],
    ["Caps:down L Caps:up", "Right"],
    ["Caps:down J Caps:up", "Down"],
    ["Caps:down K Caps:up", "Up:down Up:up"],
    ["Caps:down Alt:down H Alt:up Caps:up", "Home"],
    ["Caps:down Alt:down L Alt:up Caps:up", "End"],

    // VIM MODE: When Caps is not the first pressed key
    ["C:down Caps:down C:up Caps:up", "C"],
    ["Alt:down Caps:down H Caps:up Alt:up", "Ctrl Home Ctrl"],
    ["Alt:down Caps:down L Caps:up Alt:up", "Ctrl End Ctrl"]
  ]
}
