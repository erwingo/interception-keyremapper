[
  {
    "modifier": ["Caps"],
    "interceptAll": true,
    "rules": [
      {
        "key": "Caps",
        "rules": [
          {
            "when": { "S": "isDown" },
            "fire": [null, "Shift_u"]
          }
        ]
      },
      {
        "key": ["Shift", "S"],
        "fire": [["Shift_d"], ["Shift_u"]]
      },
      {
        "key": ["Alt"],
        "when": { "Alt": "isDown" },
        "fire": [null, null]
      },
      {
        "key": ["Alt"],
        "when": { "Alt": "isUp" },
        "fire": [null, ["keyUpAlt"]]
      },
      {
        "key": ["H", "J", "L", "K"],
        "rules": [
          {
            "when": { "Win": "isDown" },
            "fire": [["Ctrl_d", "vimArrowKey", "Ctrl_u"], null]
          },
          {
            "key": ["H", "L"],
            "rules": [
              {
                "when": { "Alt": "isDown", "isAltAsCtrl": true },
                "fire": [
                  ["keyUpAlt", "vimHomeEndKey", "keyDownAltAsCtrl"],
                  null
                ]
              }
            ]
          },
          {
            "when": { "Alt": "isDown", "isAltAsCtrl": true },
            "fire": [["vimHomeEndKey"], null]
          },
          {
            "fire": [["vimArrowKey"], null]
          }
        ]
      },
      {
        "fire": [null, null]
      }
    ]
  },
  {
    "modifier": ["Ctrl", "Tab"],
    "fire": [["keyDownCtrlAsCtrl", "Tab"], null]
  },
  {
    "modifier": ["Ctrl"],
    "fire": [["keyDownCtrlAsAlt"], ["keyUpCtrl"]]
  },
  {
    "modifier": ["Alt", "Tab"],
    "fire": [["keyDownAltAsAlt", "Tab"], null]
  },
  {
    "modifier": ["Alt"],
    "fire": [["keyDownAltAsCtrl"], ["keyUpAlt"]]
  },
  {
    "key": "Esc",
    "when": { "isAltAsAlt": true },
    "fire": [["Esc"], ["keyDownAltAsCtrl"], null]
  }
]
